<!DOCTYPE html>
<html>
<head>
    <title>URL Safety Checker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<div class="navbar">
    üîê LinkShield | Real-Time URL Threat Monitor
</div>

<div class="container">

    <div class="card">
        <form method="POST">
            <input type="text" name="url" placeholder="Enter URL to Scan..." required>
            <button type="submit">SCAN</button>
        </form>
    </div>

    <div id="scanner" class="scanner hidden">
    <p>üîé Scanning URL...</p>
    <div class="scan-bar"></div>
    </div>


    {% if score is not none %}
    <div class="result-grid">

        <div class="card">
            <h3>Threat Classification</h3>
            <div class="risk-score">{{ score }}%</div>

            {% if score < 30 %}
                <div class="status safe">üü¢ SAFE WEBSITE</div>
            {% elif score < 70 %}
                <div class="status warning">üü° SUSPICIOUS WEBSITE</div>
            {% else %}
                <div class="status danger">üî¥ HIGH RISK WEBSITE</div>
            {% endif %}
        </div>

        <div class="card">   
            <h3>Threat Analysis Logs</h3>
            <ul class="logs">
                {% for reason in reasons %}
                <li>{{ reason }}</li>
                {% endfor %}
            </ul>
        </div>

    </div>
    {% endif %}

</div>

<div class="footer">
    ¬© 2026 LinkShield | Cyber Carnival Hackathon  
</div>

<audio id="alertSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>  <!-- Alert sound for high risk-->
<script>
window.onload = function() {

    // Hide scanner after load
    const scanner = document.getElementById("scanner");
    if (scanner) {
        scanner.classList.add("hidden");
    }

    // Play alert sound if high risk
    const highRisk = document.querySelector(".danger");
    if (highRisk) {
        const audio = document.getElementById("alertSound");
        audio.play().catch(() => {
            console.log("Autoplay blocked by browser");
        });
    }
};

// Show scanner on form submit
const form = document.querySelector("form");
form.addEventListener("submit", function() {
    const scanner = document.getElementById("scanner");
    scanner.classList.remove("hidden");
});
</script>



</body>
</html>
